os:
  - linux
dist: trusty
language: c
install:
  - export CHOOSENIM_CHOOSE_VERSION="0.20.0"
  - |
      curl https://nim-lang.org/choosenim/init.sh -sSf > init.sh
      sh init.sh -y
before_script:
  # Add the 'bin' folder to PATH
  - export PATH=$HOME/.nimble/bin:$PATH
script:
    - nim compile --verbosity:0 --threads:on --run tests/testmarkdown
  - nim compile --verbosity:0 --run tests/testcommonmark
  - nim doc --docSeeSrcUrl:https://github.com/soasme/nim-makrdown/blob/master --project src/markdown.nim
cache:
  directories:
    - nim-master
